---
layout: post
title: Got SQL Azure? Then you've got OData
date: 2010-03-18 17:58:55.000000000 +08:00
categories:
- OData ecosystem
- Site announcement
tags: []
status: publish
type: post
published: true
author: OData.org Archive
---
<p>In his <a href="http://live.visitmix.com/MIX10/Sessions/KEY02">MIX Keynote</a> this week, Douglas Purdy demonstrated a new <a href="http://">OData</a> Service for SQL Azure. I am pleased to announce that a preview of this exciting technology, providing the quickest no-code solution for bringing your SQL Azure data into the growing <a href="http://">OData ecosystem</a>, is available to all SQL Azure users today.</p>
<p><strong>Got SQL Azure?</strong></p>
<p>If you have a SQL Azure database then OData is just a click away.  No need to build, maintain and host a custom service in a separate middle tier; the OData Service for SQL Azure provides a no-code solution for exposing an OData endpoint based on built-in database logic.  Exposing your data through an open HTTP protocol enables friction-free development and deployment of modern applications to a variety of devices and platforms.</p>
<p>To get started, just visit the <a href="https://www.sqlazurelabs.com/">OData Service Portal</a> and click on the "OData Service for SQL Azure" tab. This wizard will allow you to select one or more databases to expose through OData.  You have the choice of mapping a user within your database to an anonymous endpoint (meaning that anyone can access the data according to the permissions of that user) or mapping one or more users to authenticated access (meaning that the application must obtain a security token based on a security key in order to access the service as that user).</p>
<p>Note that the login used to access the portal must have read access to your master database (in order to list the databases and users available) and your SQL Azure firewall must be configured to allow access based on the IP Address of the machine accessing the portal, or provide access to Microsoft Services (0.0.0.0-0.0.0.0), in order to configure the database.</p>
<p><strong>Try it out!</strong></p>
<p>Once you have your SQL Azure database configured for OData, try it out!  Access your data from any HTTP client using a URL configured for your database of the form:</p>
<p><em>https://odata.sqlazurelabs.com/OData.svc/v0.1/&lt;serverName&gt;/&lt;databaseName&gt;</em></p>
<p>where <em>&lt;serverName&gt;</em> is the name of your SQL Azure server and <em>&lt;databaseName&gt;</em> is the name of your configured database.</p>
<p>Once you've enabled OData, you can:</p>
<ul>
<li>View your data in the browser (for best results reading OData results in Microsoft Internet Explorer, turn off Feed Reading view.)</li>
<li>Write LINQ queries against your data using <a href="http://www.linqpad.net/Beta.aspx">LinqPad</a></li>
<li>Analyze data from your database using Microsoft Excel <a href="http://www.powerpivot.com/">PowerPivot</a></li>
<li>Explore your data using <a href="http://silverlight.net/content/samples/odataexplorer/">OData Explorer</a> or the <a href="http://metasapiens.com/sesame/data-browser/">Sesame OData Browser</a></li>
</ul>
<ul>
<li><a href="assets/odata-sdk">Build Client Applications</a> on a variety of platforms (Javascript, PHP, Java, Windows Phone 7 Series, iPhone, .NET).</li>
</ul>
<p>Note that, in order to avoid run-away queries, the OData Service for SQL Azure returns a maximum of 50 rows in any one request.  If there are more than 50 results matching the query, a &lt;link rel="next"…/&gt; will be provided at the end of the results containing the URL to fetch up to the next 50 records.</p>
<p><strong>Don't Have SQL Azure?</strong></p>
<p>If you don't have a SQL Azure account, but want to try out the OData Service for SQL Azure, below are some URLs you can use to query common databases (note that these endpoints are read-only).</p>
<p><a href="https://odata.sqlazurelabs.com/OData.svc/v0.1/hqd7p8y6cy/AdventureWorks"> https://odata.sqlazurelabs.com/OData.svc/v0.1/hqd7p8y6cy/AdventureWorks</a></p>
<p><a href="https://odata.sqlazurelabs.com/OData.svc/v0.1/hqd7p8y6cy/Northwind"> https://odata.sqlazurelabs.com/OData.svc/v0.1/hqd7p8y6cy/Northwind</a></p>
<p>Here are a handful of other interesting queries to get you started:</p>
<p>Top 10 customers ordered by CompanyName:<br />
<a href="https://odata.sqlazurelabs.com/OData.svc/v0.1/hqd7p8y6cy/Northwind/Customers?$top=10&amp;$orderby=CompanyName"> https://odata.sqlazurelabs.com/OData.svc/v0.1/hqd7p8y6cy/Northwind/Customers?$top=10&amp;$orderby=CompanyName</a></p>
<p>All Customers from Northwind with "Sales" in their title:<br />
<a href="https://odata.sqlazurelabs.com/OData.svc/v0.1/hqd7p8y6cy/Northwind/Customers?$filter=substringof%28%27Sales%27,ContactTitle%29"> https://odata.sqlazurelabs.com/OData.svc/v0.1/hqd7p8y6cy/Northwind/Customers?$filter=substringof('Sales',ContactTitle)</a></p>
<p>Just the CompanyName and ContactName form Customers in Germany:<br />
<a href="https://odata.sqlazurelabs.com/OData.svc/v0.1/hqd7p8y6cy/Northwind/Customers?$filter=Country%20eq%20%27Germany%27&amp;$select=CompanyName,ContactName"> https://odata.sqlazurelabs.com/OData.svc/v0.1/hqd7p8y6cy/Northwind/Customers?$filter=Country%20eq%20'Germany'&amp;$select=CompanyName,ContactName</a></p>
<p>The Orders for Customer "ALFKI" ordered by required date:<br />
<a href="https://odata.sqlazurelabs.com/OData.svc/v0.1/hqd7p8y6cy/Northwind/Customers%28%27ALFKI%27%29/Orders?$orderby=RequiredDate"> https://odata.sqlazurelabs.com/OData.svc/v0.1/hqd7p8y6cy/Northwind/Customers('ALFKI')/Orders?$orderby=RequiredDate</a></p>
<p>These are great for playing around with OData, but the real power of the OData Service for SQL Azure is its ability to expose the data that <em>you</em> want to expose.  So <a href="http://www.microsoft.com/windowsazure/sqlazure/"><em>get SQL Azure today</em></a>!</p>
<p><strong>Release Notes</strong></p>
<p>The OData Service for SQL Azure is an early preview of a no-code way to extend the reach of selected data and logic within your SQL Azure store to HTTP-enabled devices, and to enable your data to play in the growing OData ecosystem. The current service is intended to start giving you a feel for the offering by exposing basic query and update capabilities over a simple derived model. Over the coming weeks we'll be adding additional functionality such as views and stored procedures, richer relationship support, and so forth.</p>
<p>In this version:</p>
<ol>
<li>You can navigate only a single navigation property (i.e., Customers('ALFKI')/Orders). You cannot navigate, for example, Customers('ALFKI')/Orders(10634)/Order_Details.</li>
<li>$expand is not supported</li>
<li>No views, stored procs, table-valued-functions (coming soon…)</li>
<li>Most common datatypes are supported, but some of the less common datatypes may not.</li>
</ol>
<p><strong>FAQ:</strong></p>
<p><strong>Q:</strong> Does this bypass my built-in server logic?</p>
<p><strong>A:</strong> Absolutely not.  The OData Service for SQL Azure is designed to expose the logic built into your database.  Each endpoint is configured with a particular user (either anonymous or authenticated) and the database objects and logic exposed by the endpoint are subject to the permissions granted that configured user.</p>
<p><strong>Q:</strong> Does OData replace TCP as the way I should access my SQL Azure database?</p>
<p><strong>A:</strong> No. TCP, where available, remains the richest and most performing way for clients to interact directly with your SQL Azure database.  OData provides reach to any HTTP-enabled device, allowing your data to be accessed by a growing set of consumer applications, tools and platforms.  Rich + Reach; nice.</p>
<p><strong>Q:</strong> How does this relate to WCF Data Services and the Microsoft Entity Framework?</p>
<p><strong>A:</strong> WCF Data Services and the Entity Framework pick up where the OData Service for SQL Azure leaves off.  Where the OData Service for SQL Azure provides a no-code way to expose a default entity model over your data, WCF Data Services and the Entity Framework allow you to customize that model and add additional logic in a middle tier.</p>
<p><strong>Stay Tuned:</strong></p>
<p>Over the next couple of weeks we'll be providing more information on how to use the OData Service for SQL Azure, including samples for writing a .NET or Silverlight client that accesses the OData service through an authenticated user.</p>
<p><a href="https://www.sqlazurelabs.com/">OData for SQL Azure</a> - <strong><em>You've</em></strong> got a feed for that!</p>
<p>Michael Pizzo<br />
Architect, Microsoft Data Management Group</p>
